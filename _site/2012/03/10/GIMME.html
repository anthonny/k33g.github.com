<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en-us">
<head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <title>Usine de dév JS</title>
    <meta name="author" content="k33g" />

    <!-- Homepage CSS -->
    <!--
    <link rel="stylesheet" href="http://twitter.github.io/bootstrap/assets/css/bootstrap.css">
    <link rel="stylesheet" href="/css/screen.css" type="text/css" media="screen, projection" />
	-->

    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1">
    <link href="/bootstrap3/css/bootstrap.css" rel="stylesheet" type="text/css">
    <script type="text/javascript" src="bootstrap3/js/bootstrap.min.js"></script>

    <style>
        .jumbotron {
            background-color: #b8eee9;
            border-radius: 0px;
        }
    </style>

    <!-- syntax highlighting CSS -->
    <link rel="stylesheet" href="/css/syntax.css" type="text/css" />
	<link rel="stylesheet" href="/css/default.min.css">


    <script type="text/javascript" src="https://apis.google.com/js/plusone.js"></script>

</head>

<body >

<div class="jumbotron">
    <h1>K33G_ORG's Blog</h1>
    <p></p>
    <a class="label label-info" href="/">home</a>
    <a class="label label-info" href="http://twitter.com/k33g_org/">@k33g_org</a>
    <a class="label label-warning" href="http://feeds.feedburner.com/K33g_orgsBlog">rss</a>
    <a class="label label-info" href="http://k33g.github.com/all.html">all posts</a>
</div>
<div class="container">

    <div class="row">
        <div>
    <div>
        <g:plusone size="medium"></g:plusone>
        <a href="https://twitter.com/share" class="twitter-share-button" data-count="horizontal" data-via="k33g_org">Tweet</a><script type="text/javascript" src="//platform.twitter.com/widgets.js"></script>
        <h1>Usine JS : générer votre squelette de projet Javascript &amp; Express.js avec GIMME</h1>

<p>Dès que vous voulez créer un projet javascript de webapp, il faut créer une arborescence, aller chercher les librairies javascript qui vont bien à droite à gauche sur internet ... C'est ennuyeux.</p>

<p>Pour régler ce petit tracas, je vous conseille l'utilisation du "ingeniously simple" <strong>Gimme</strong> de <a href="https://twitter.com/#!/mklabs">@mklabs</a> que vous trouverez ici : <a href="https://github.com/mklabs/gimme-assets">https://github.com/mklabs/gimme-assets</a> avec un article d'explication en français par son auteur : <a href="http://blog.mklog.fr/articles/just-gimme-web-assets-please/">http://blog.mklog.fr/articles/just-gimme-web-assets-please/</a>.</p>

<p><strong>Eh! Mais qu'est ce que c'est ?</strong> Alors Gimme c'est un utilitaire en mode commande qui permet d'aller télécharger les librairies javascript référencées sur des repositories officiels, vous permettant d'avoir les dernières versions et cela sans aucun effort.</p>

<h2>Comment ça marche ? ... je résume</h2>

<h3>Problématique :</h3>

<p>Je veux installer dans le répertoire <code>lib</code> de ma webapp mes frameworks js préférés : jQuery, Underscore, Backbone et Tempo (pour le templating, je le préfère à Mustache).</p>

<h3>Solution : ... avec Gimme</h3>

<p>Tapez simplement ceci :</p>

<pre><code>gimme install jquery underscore.js backbone.js tempo -o ./lib
</code></pre>

<p><em>Remarque : dès fois il y a ".js" à la fin et dès fois non ! C'est normal, tout dépend de comment les librairies ont été référencées dans les repositories auxquels se connectent Gimmme, pour avoir l'ensemble des noms vous pouvez tapez la commande <code>gimme list</code>.</em></p>

<h2>Oui mais moi mon projet c'est du Express.js, ça va pas le faire !?</h2>

<p><strong>Ben si !</strong>, un des petits trucs sympathique de Gimme, c'est que vous pouvez écrire vos propres commandes (allez lire l'article de <a href="https://twitter.com/#!/mklabs">@mklabs</a> c'est très bien expliqué.</p>

<h3>Problématique :</h3>

<p>Je veux :</p>

<ul>
<li>générer une application express.js</li>
<li>mettre à jour les dépendances</li>
<li>installer <strong>ejs</strong> (pour le templating, je préfère à <strong>jade</strong>)</li>
<li>installer toutes mes libs clients dans le répertoire <code>/public/javascripts</code> du projet express.js</li>
</ul>


<h3>Solution : ... avec Gimme</h3>

<p>Dans le répertoire <code>~/.gimme/commands</code> (si <code>commands</code> n'existe pas créez le), créez un fichier <code>mystack.js</code> avec le code suivant :</p>

<pre><code>module.exports = mystack_cmd;

var fs = require('fs')
    , path = require('path')
    , exec = require('child_process').exec;


mystack_cmd.usage = "gimme mystack &lt;appname&gt;";
mystack_cmd.description = ['my personnal express.js boilerplate', "@k33g_org"];

function launch(cmd, cb) {
    exec(cmd, function(err, stdout, stderr) {
        if (err) {
            console.log(err);
            throw err;
        }
        else {
            console.log(cmd+ " -&gt; OK");
            if(cb) cb();
        }
    });
}

function mystack_cmd (opts, cb) {
    var appname = opts.argv.remain.slice(1)[0];
    launch("express " + appname, function() {
        launch("cd " + appname + " &amp;&amp; npm install -d", function(){
            launch("cd " + appname + " &amp;&amp; npm install ejs", function() {
                console.log(appname + " has been created.")
            });
        });
    });
}
</code></pre>

<p>Et maintenant pour générer mon application "bobistheking", en mode commande :</p>

<pre><code>gimme mystack bobistheking
gimme install jquery underscore.js backbone.js tempo -o ./bobistheking/public/javascripts
</code></pre>

<p><strong>Et voilà !!!</strong> En quelques secondes votre projet d'application est prêt, et vous pouvez utiliser votre nouvelle commande à volonté.</p>

<h3>Pistes d'amélioration</h3>

<ul>
<li>vous pourriez tout mettre ensuite dans un script shell</li>
<li>faire une commande qui vous génère les pages html de démarrage de votre projet</li>
<li>etc. ...</li>
</ul>


<p>En tous les cas, dites vous que vous avez gagné du temps et que vos projets seront tous structurés de la même façon.</p>

<p>@+</p>

        <g:plusone size="medium"></g:plusone>
        <a href="https://twitter.com/share" class="twitter-share-button" data-count="horizontal" data-via="k33g_org">Tweet</a><script type="text/javascript" src="//platform.twitter.com/widgets.js"></script>
    </div>
    <div class="whoring">
        <hr>
        <div id="disqus_thread"></div>
            <script type="text/javascript">
                /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
                var disqus_shortname = 'k33gblog'; // required: replace example with your forum shortname

                var disqus_identifier = 'Usine de dév JS';

                // The following are highly recommended additional parameters. Remove the slashes in front to use.
                // var disqus_identifier = 'unique_dynamic_id_1234';
                // var disqus_url = 'http://example.com/permalink-to-page.html';

                /* * * DON'T EDIT BELOW THIS LINE * * */
                (function() {
                    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
                    dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
                    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
                })();
            </script>
            <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
            <a href="http://disqus.com" class="dsq-brlink">blog comments powered by <span class="logo-disqus">Disqus</span></a>

    </div>


    <div id="related">
        <h2>Related Posts</h2>
            <ul class="posts">
            
              <li><span>10 Dec 2013</span> &raquo; <a href="/2013/12/10/POLYMER-2.html">Polymer 1er contact le retour</a></li>
            
              <li><span>07 Dec 2013</span> &raquo; <a href="/2013/12/07/POLYMER-1.html">Polymer 1er contact</a></li>
            
              <li><span>29 Nov 2013</span> &raquo; <a href="/2013/11/29/BBOM.html">Le modèle objet de Backbone</a></li>
            
        </ul>
    </div>
</div>
    </div>

    <div class="row">
        <h3>A voir : Les GROS tutos Play!> 1 & 2 !, Backbone</h3>
        <ul>
            <li>
                <a href="http://3monkeys.github.com/play.rules/livre.play.deux.web/play2.rules.return.html">
                    Play!► 2 en douceur •
                </a>
                <a href="http://3monkeys.github.com/play.rules/livre.play.un.web/play.rules.one.html">
                    Apprendre Play!► 1 •
                </a>
                <a href="http://3monkeys.github.com/play.rules/">
                    Versions epub & pdf
                </a>
            </li>
            <li>
                <a href="http://k33g.github.io/backbone.en.douceur/">
                    Backbone.js "en douceur" •
                </a>
                <a href="http://k33g.github.io/backbone.en.douceur/backbone.en.douceur.20121220.pdf"><b>LE</b> pdf</a>
            </li>
            <li>
                A venir : Golo "dans tous les sens" ♥
            </li>
        </ul>
    </div>
    <hr>

</div>



<!-- Google Analytics -->
<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-11383603-5']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>
<!-- Google Analytics end -->

</body>
</html>