<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en-us">
<head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <title>Android OnBoard programming with SL4A</title>
    <meta name="author" content="k33g" />

    <!-- Homepage CSS -->
    <!--
    <link rel="stylesheet" href="http://twitter.github.io/bootstrap/assets/css/bootstrap.css">
    <link rel="stylesheet" href="/css/screen.css" type="text/css" media="screen, projection" />
	-->

    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1">
    <link href="/bootstrap3/css/bootstrap.css" rel="stylesheet" type="text/css">
    <script type="text/javascript" src="bootstrap3/js/bootstrap.min.js"></script>

    <style>
        .jumbotron {
            background-color: #444444;
            border-radius: 0px;
            padding: 10px 30px;
        }
    </style>

    <!-- syntax highlighting CSS -->
    <link rel="stylesheet" href="/css/syntax.css" type="text/css" />
		<link rel="stylesheet" href="/css/default.min.css">


    <script type="text/javascript" src="https://apis.google.com/js/plusone.js"></script>

</head>

<body >

<div class="jumbotron">
    <a class="label label-warning" href="/">K33G_ORG's Blog</a>
    <a class="label label-info" href="http://twitter.com/k33g_org/">@k33g_org</a>
    <a class="label label-warning" href="http://feeds.feedburner.com/K33g_orgsBlog">rss</a>
    <a class="label label-info" href="http://k33g.github.com/all.html">all posts</a>
    <a class="label label-warning" href="http://www.k33g.org/">me</a>
</div>
<div class="container">

    <div class="row">
        <div>
    <div>
        <g:plusone size="medium"></g:plusone>
        <a href="https://twitter.com/share" class="twitter-share-button" data-count="horizontal" data-via="k33g_org">Tweet</a><script type="text/javascript" src="//platform.twitter.com/widgets.js"></script>
        <h1>Programmation OnBoard pour Android avec SL4A ... Pas Geek s'abstenir</h1>

<p><strong>SL4A</strong> (Scripting Layer For Android) est une application qui vous permet de coder directement sur votre téléphone (si!) avec les interpréteurs suivants :</p>

<ul>
<li>Python</li>
<li>Ruby</li>
<li>Javascript</li>
<li>Lua</li>
<li>Perl</li>
<li>Java (!!!) avec beanshell</li>
<li>...</li>
</ul>


<h2>Installation de SL4A</h2>

<ul>
<li>Allez faire un tour ici : <a href="http://code.google.com/p/android-scripting/">http://code.google.com/p/android-scripting/</a> et utilisez le QR-Code avec votre terminal Android (ou utilisez le lien via votre téléphone <a href="http://code.google.com/p/android-scripting/downloads/detail?name=sl4a_r4.apk">http://code.google.com/p/android-scripting/downloads/detail?name=sl4a_r4.apk</a> ).</li>
<li>Téléchargez</li>
<li>Installez</li>
</ul>


<h2>Installation d'un interpreteur (python)</h2>

<p>Maintenant, il faut installer les interpréteurs (pas forcément tous) :</p>

<ul>
<li>Lancez SL4A</li>
<li>Faites afficher le menu</li>
<li>Sélectionnez <code>View</code>, puis <code>Interpreters</code></li>
<li>un item <code>Shell</code> apparaît</li>
<li>Faites à nouveau afficher le menu</li>
<li>Sélectionnez <code>Add</code></li>
<li>Choisissez (pour notre exemple) <code>Python</code>, l'interpréteur va se télécharger</li>
<li>Déroulez la barre de notifications, vous devriez avoir une notification du type <code>PythonForAndroid_r5.apk téléchargement terminé</code></li>
<li>"Appuyez" dessus pour l'installer</li>
<li>1 fois installé, appuyer sur "Ouvrir"</li>
<li>1 fenêtre s'affiche avec 4 boutons : <code>Ìnstall</code>, <code>Import modules</code>, <code>Browse Modules</code>, <code>Uninstall Module</code></li>
<li>Choisissez <code>Ìnstall</code> et patientez (pour les autres interpréteurs, le principe d'installation reste le même)</li>
<li>Voilà vous êtes prêts pour la suite</li>
</ul>


<h2>1er programme en mode console</h2>

<p>Si vous revenez à la fenêtre précédente, en plus de l'item <code>Shell</code> vous avez maintenant un item <code>Python</code>.</p>

<ul>
<li>Sélectionnez le, cela vous lance le prompt Python (ok je vous l'accorde, il faut avoir de bons yeux, mais la taille de police se règle : <code>Menu/Préférences/</code> et <code>Font Size</code> dans la rubrique <code>Terminal</code>)</li>
<li><p>On saisit un peu de code :</p>

<pre><code>  import android
  droid = android.Android()
  droid.makeToast('hello world')
</code></pre></li>
<li><p>Une fois que vous avez saisi la dernière ligne et validé, une petit "toast" (message furtif) s'affiche un bref instant.</p></li>
</ul>


<p>Alors les Geeks, on frétille ?</p>

<h2>1er programme en mode "éditeur"</h2>

<p>Franchement le mode console, ce n'est pas très pratique,</p>

<ul>
<li>sortez de la console pour revenir à la liste des scripts</li>
<li>faites afficher le menu</li>
<li>sélectionnez <code>Add</code></li>
<li>sélectionnez <code>Python</code></li>
<li>et là vous pouvez saisir le nom de votre script</li>
<li>saisir du code</li>
<li>sauvegarder</li>
<li>exécuter</li>
<li>etc. ...</li>
</ul>


<p>Déjà plus sympa non ?</p>

<h2>Changer d'éditeur</h2>

<p>L'éditeur intégré de SL4A est un chouilla limité et pas forcément confortable. Je vous propose d'utiliser <strong>Touchqode</strong> qui a la particularité de vous faire bénéficier de la colorisation syntaxique, mais aussi d'être capable de lancer SL4A et de lui faire exécuter des script : <a href="https://market.android.com/details?id=com.touchqode.editor">https://market.android.com/details?id=com.touchqode.editor</a>.</p>

<p>Je suis d'accord, sur un téléphone c'est pas super pratique (vous pouvez saisir sur votre ordinateur et transféré ensuite), mais sur un Galaxy S2 ou une tablette, cela ne doit pas être trop mal.</p>

<h2>Pour aller un peu plus loin</h2>

<ul>
<li>Sachez que vous pouvez décrire des IHM en HTML et les faire communiquer avec vos scripts : <a href="http://code.google.com/p/android-scripting/wiki/UsingWebView">http://code.google.com/p/android-scripting/wiki/UsingWebView</a></li>
<li>A nouveau : il y a d'autres interpréteurs</li>
<li>Vous avez accès aux API android</li>
<li>Vous pouvez créer votre propre interpréteur</li>
<li>...</li>
</ul>


<h2>Une prochaine fois ...</h2>

<p>Peut-on faire la même chose avec un iPad ? (un iPhone ?)</p>

        <g:plusone size="medium"></g:plusone>
        <a href="https://twitter.com/share" class="twitter-share-button" data-count="horizontal" data-via="k33g_org">Tweet</a><script type="text/javascript" src="//platform.twitter.com/widgets.js"></script>
    </div>
    <div class="whoring">
        <hr>
        <div id="disqus_thread"></div>
            <script type="text/javascript">
                /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
                var disqus_shortname = 'k33gblog'; // required: replace example with your forum shortname

                var disqus_identifier = 'Android OnBoard programming with SL4A';

                // The following are highly recommended additional parameters. Remove the slashes in front to use.
                // var disqus_identifier = 'unique_dynamic_id_1234';
                // var disqus_url = 'http://example.com/permalink-to-page.html';

                /* * * DON'T EDIT BELOW THIS LINE * * */
                (function() {
                    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
                    dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
                    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
                })();
            </script>
            <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
            <a href="http://disqus.com" class="dsq-brlink">blog comments powered by <span class="logo-disqus">Disqus</span></a>

    </div>


    <div id="related">
        <h2>Related Posts</h2>
            <ul class="posts">
            
              <li><span>10 May 2014</span> &raquo; <a href="/2014/05/10/ATOM-SHELL.html">Atom-shell, javascript everywhere</a></li>
            
              <li><span>09 May 2014</span> &raquo; <a href="/2014/05/09/NPM-NODE-CLI.html">Faites vos outils avec npm et node</a></li>
            
              <li><span>04 May 2014</span> &raquo; <a href="/2014/05/04/MIXIT-2014.html">MixITFR2014</a></li>
            
        </ul>
    </div>
</div>
    </div>

    <div class="row">
        <h3>A voir : Les GROS tutos Play!> 1 & 2 !, Backbone</h3>
        <ul>
            <li>
                <a href="http://3monkeys.github.com/play.rules/livre.play.deux.web/play2.rules.return.html">
                    Play!► 2 en douceur •
                </a>
                <a href="http://3monkeys.github.com/play.rules/livre.play.un.web/play.rules.one.html">
                    Apprendre Play!► 1 •
                </a>
                <a href="http://3monkeys.github.com/play.rules/">
                    Versions epub & pdf
                </a>
            </li>
            <li>
                <a href="http://k33g.github.io/backbone.en.douceur/">
                    Backbone.js "en douceur" •
                </a>
                <a href="http://k33g.github.io/backbone.en.douceur/backbone.en.douceur.20121220.pdf"><b>LE</b> pdf</a>
            </li>
            <li>
                A venir : Golo "dans tous les sens" ♥
            </li>
        </ul>
    </div>
    <hr>

</div>



<!-- Google Analytics -->
<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-11383603-5']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>
<!-- Google Analytics end -->

</body>
</html>