<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en-us">
<head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <title>papa maman font gologolo</title>
    <meta name="author" content="k33g" />

    <!-- Homepage CSS -->
    <!--
    <link rel="stylesheet" href="http://twitter.github.io/bootstrap/assets/css/bootstrap.css">
    <link rel="stylesheet" href="/css/screen.css" type="text/css" media="screen, projection" />
	-->

    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1">
    <link href="/bootstrap3/css/bootstrap.css" rel="stylesheet" type="text/css">
    <script type="text/javascript" src="bootstrap3/js/bootstrap.min.js"></script>

    <style>
        .jumbotron {
            background-color: #b8eee9;
            border-radius: 0px;
        }
    </style>

    <!-- syntax highlighting CSS -->
    <link rel="stylesheet" href="/css/syntax.css" type="text/css" />
	<link rel="stylesheet" href="/css/default.min.css">


    <script type="text/javascript" src="https://apis.google.com/js/plusone.js"></script>

</head>

<body >

<div class="jumbotron">
    <h1>K33G_ORG's Blog</h1>
    <p></p>
    <a class="label label-info" href="/">home</a>
    <a class="label label-info" href="http://twitter.com/k33g_org/">@k33g_org</a>
    <a class="label label-warning" href="http://feeds.feedburner.com/K33g_orgsBlog">rss</a>
    <a class="label label-info" href="http://k33g.github.com/all.html">all posts</a>
</div>
<div class="container">

    <div class="row">
        <div>
    <div>
        <g:plusone size="medium"></g:plusone>
        <a href="https://twitter.com/share" class="twitter-share-button" data-count="horizontal" data-via="k33g_org">Tweet</a><script type="text/javascript" src="//platform.twitter.com/widgets.js"></script>
        <h1>Quand Papa et Maman font gologolo ...</h1>

<blockquote><p><em>Ou, il y a héritage et apprentissage ...</em>
<em>Attention, article torride ...</em></p></blockquote>

<h2>Rappel sur les DynamicObjects + mixin</h2>

<p><em><a href="http://k33g.github.com/2013/03/28/GOLO.html">cf. article précédent</a></em></p>

<p>Ok, elle était facile ... Mais voyons comment aller un peu plus loin avec les <strong>DynamicObjects</strong> par l'exemple.</p>

<p>Nous avons un "FlintStone" :</p>

<div class="highlight"><pre><code class="coffeescript"><span class="nx">function</span> <span class="nv">FlintStone = </span><span class="nf">-&gt;</span> <span class="nx">DynamicObject</span><span class="p">()</span><span class="o">:</span>
    <span class="nx">lastName</span><span class="p">(</span><span class="s">&quot;Flintstone&quot;</span><span class="p">)</span><span class="o">:</span>
    <span class="nx">define</span><span class="p">(</span><span class="s">&quot;initialize&quot;</span><span class="p">,</span> <span class="o">|</span><span class="k">this</span><span class="p">,</span> <span class="nx">firstName</span><span class="o">|</span><span class="p">{</span>
        <span class="k">this</span><span class="o">:</span> <span class="nx">firstName</span><span class="p">(</span><span class="nx">firstName</span><span class="p">)</span>
        <span class="k">return</span> <span class="k">this</span>
    <span class="p">})</span>
</code></pre></div>


<p>Commençons par créer un couple de "FlintStone" :</p>

<div class="highlight"><pre><code class="coffeescript"><span class="nx">function</span> <span class="nv">Father = </span><span class="nf">-&gt;</span> <span class="nx">DynamicObject</span><span class="p">()</span><span class="o">:</span>
    <span class="nx">mixin</span><span class="p">(</span><span class="nx">FlintStone</span><span class="p">())</span><span class="o">:</span>
    <span class="nx">hair</span><span class="p">(</span><span class="s">&quot;brown&quot;</span><span class="p">)</span><span class="o">:</span>
    <span class="nx">sex</span><span class="p">(</span><span class="s">&quot;male&quot;</span><span class="p">)</span><span class="o">:</span>
    <span class="nx">define</span><span class="p">(</span><span class="s">&quot;fishing&quot;</span><span class="p">,</span> <span class="o">|</span><span class="k">this</span><span class="o">|</span> <span class="nf">-&gt;</span> <span class="nx">println</span><span class="p">(</span><span class="k">this</span><span class="o">:</span> <span class="nx">firstName</span><span class="p">()</span> <span class="o">+</span> <span class="s">&quot; is fishing&quot;</span><span class="p">)</span> <span class="p">)</span>


<span class="nx">function</span> <span class="nv">Mother = </span><span class="nf">-&gt;</span> <span class="nx">DynamicObject</span><span class="p">()</span><span class="o">:</span>
    <span class="nx">mixin</span><span class="p">(</span><span class="nx">FlintStone</span><span class="p">())</span><span class="o">:</span>
    <span class="nx">hair</span><span class="p">(</span><span class="s">&quot;red&quot;</span><span class="p">)</span><span class="o">:</span>
    <span class="nx">sex</span><span class="p">(</span><span class="s">&quot;female&quot;</span><span class="p">)</span><span class="o">:</span>
    <span class="nx">define</span><span class="p">(</span><span class="s">&quot;drawing&quot;</span><span class="p">,</span> <span class="o">|</span><span class="k">this</span><span class="o">|</span> <span class="nf">-&gt;</span> <span class="nx">println</span><span class="p">(</span><span class="k">this</span><span class="o">:</span> <span class="nx">firstName</span><span class="p">()</span> <span class="o">+</span> <span class="s">&quot; is drawing&quot;</span><span class="p">)</span> <span class="p">)</span>
</code></pre></div>


<p>Donc les femmes "FlintStone" savent dessiner et sont rousses, les hommes "FlintStone" savent pêcher et sont bruns. <code>Father</code> et <code>Mother</code> "descendent" tous kes 2 de <code>FlintStone</code>.</p>

<p>Donc ceci :</p>

<div class="highlight"><pre><code class="coffeescript"><span class="nx">function</span> <span class="nv">main = </span><span class="o">|</span><span class="nx">args</span><span class="o">|</span> <span class="p">{</span>

    <span class="nx">var</span> <span class="nv">fred = </span><span class="nx">Father</span><span class="p">()</span><span class="o">:</span> <span class="nx">initialize</span><span class="p">(</span><span class="s">&quot;Fred&quot;</span><span class="p">)</span>
    <span class="nx">var</span> <span class="nv">wilma = </span><span class="nx">Mother</span><span class="p">()</span><span class="o">:</span> <span class="nx">initialize</span><span class="p">(</span><span class="s">&quot;Wilma&quot;</span><span class="p">)</span>

    <span class="nv">fred: </span><span class="nx">fishing</span><span class="p">()</span>
    <span class="nv">wilma: </span><span class="nx">drawing</span><span class="p">()</span>

<span class="p">}</span>
</code></pre></div>


<p>vous donnera cela :</p>

<pre><code>Fred is fishing
Wilma is drawing
</code></pre>

<h2>Wilma et Fred vont faire des bébés : ou Golo &amp; le multi-héritage</h2>

<p>Une "petite" chose que j'ai oublié la dernière fois, c'est que l'on peut <strong>"cumuler"</strong> les <strong>mixins</strong> !</p>

<p>Déclarons des bébés filles et des bébés garçons :</p>

<div class="highlight"><pre><code class="coffeescript"><span class="nx">function</span> <span class="nv">BabyBoy = </span><span class="nf">-&gt;</span> <span class="nx">DynamicObject</span><span class="p">()</span><span class="o">:</span>
    <span class="nx">mixin</span><span class="p">(</span><span class="nx">Mother</span><span class="p">())</span><span class="o">:</span> <span class="nx">mixin</span><span class="p">(</span><span class="nx">Father</span><span class="p">())</span>

<span class="nx">function</span> <span class="nv">BabyGirl = </span><span class="nf">-&gt;</span> <span class="nx">DynamicObject</span><span class="p">()</span><span class="o">:</span>
    <span class="nx">mixin</span><span class="p">(</span><span class="nx">Father</span><span class="p">())</span><span class="o">:</span> <span class="nx">mixin</span><span class="p">(</span><span class="nx">Mother</span><span class="p">())</span>
</code></pre></div>


<p>Donc un <code>BabyBoy</code> "hérite" des caractéristiques de sa mère (<code>Mother</code>) puis de celles de son père (<code>Father</code>), donc si le père et la mère ont des caractéristiques communes, celles du père "prennent le pas" sur celle de la mère (une sorte de surcharge de caractéristique). Et inversement dans le cas des <code>BabyGirl</code>.</p>

<p>Laissons donc Fred et Wilma avoir des bébés en leur ajoutant quelques capacités "à la volée" :</p>

<div class="highlight"><pre><code class="coffeescript"><span class="nx">function</span> <span class="nv">main = </span><span class="o">|</span><span class="nx">args</span><span class="o">|</span> <span class="p">{</span>

    <span class="nx">var</span> <span class="nv">fred = </span><span class="nx">Father</span><span class="p">()</span><span class="o">:</span> <span class="nx">initialize</span><span class="p">(</span><span class="s">&quot;Fred&quot;</span><span class="p">)</span>
    <span class="nx">var</span> <span class="nv">wilma = </span><span class="nx">Mother</span><span class="p">()</span><span class="o">:</span> <span class="nx">initialize</span><span class="p">(</span><span class="s">&quot;Wilma&quot;</span><span class="p">)</span>

    <span class="c1">#Fred est devenu un adulte, il peut ...</span>
    <span class="nv">fred: </span><span class="nx">define</span><span class="p">(</span><span class="s">&quot;gologolo&quot;</span><span class="p">,</span> <span class="o">|</span><span class="k">this</span><span class="p">,</span> <span class="nx">flintstone</span><span class="o">|</span> <span class="p">{</span>
        <span class="k">if</span> <span class="nv">flintstone: </span><span class="nx">sex</span><span class="p">()</span> <span class="o">==</span> <span class="s">&quot;female&quot;</span> <span class="p">{</span>
            <span class="nv">flintstone: </span><span class="nx">pregnant</span><span class="p">(</span><span class="kc">true</span><span class="p">)</span>    
        <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
            <span class="nx">raise</span><span class="p">(</span><span class="s">&quot;c&#39;est pas gagné&quot;</span><span class="p">)</span>
        <span class="p">}</span>
    <span class="p">})</span>

    <span class="c1">#Wilma est une femme, elle peut avoir des enfants</span>
    <span class="nv">wilma: </span><span class="nx">define</span><span class="p">(</span><span class="s">&quot;birthOfTwins&quot;</span><span class="p">,</span> <span class="o">|</span><span class="k">this</span><span class="p">,</span> <span class="nx">girlsName</span><span class="p">,</span> <span class="nx">boysName</span><span class="o">|</span> <span class="p">{</span>
        <span class="k">if</span> <span class="k">this</span><span class="o">:</span> <span class="nx">pregnant</span><span class="p">()</span> <span class="p">{</span>
            <span class="k">this</span><span class="o">:</span> <span class="nx">daughter</span><span class="p">(</span><span class="nx">BabyGirl</span><span class="p">()</span><span class="o">:</span> <span class="nx">initialize</span><span class="p">(</span><span class="nx">girlsName</span><span class="p">))</span>
            <span class="k">this</span><span class="o">:</span> <span class="nx">son</span><span class="p">(</span><span class="nx">BabyBoy</span><span class="p">()</span><span class="o">:</span> <span class="nx">initialize</span><span class="p">(</span><span class="nx">boysName</span><span class="p">))</span>
        <span class="p">}</span>

    <span class="p">})</span>

    <span class="c1">#Fred &amp; Wilma passent une bonne soirée</span>
    <span class="nv">fred: </span><span class="nx">gologolo</span><span class="p">(</span><span class="nx">wilma</span><span class="p">)</span>

    <span class="c1">#9 mois plus tard, Wilma accouche de jumeaux </span>
    <span class="nv">wilma: </span><span class="nx">birthOfTwins</span><span class="p">(</span><span class="s">&quot;Pebbles&quot;</span><span class="p">,</span> <span class="s">&quot;Junior&quot;</span><span class="p">)</span>

    <span class="nx">var</span> <span class="nv">pebbles = wilma: </span><span class="nx">daughter</span><span class="p">()</span>
    <span class="nx">var</span> <span class="nv">junior = wilma: </span><span class="nx">son</span><span class="p">()</span>

    <span class="nx">println</span><span class="p">(</span><span class="nv">pebbles: </span><span class="nx">hair</span><span class="p">()</span> <span class="o">+</span> <span class="s">&quot; &quot;</span> <span class="o">+</span> <span class="nv">pebbles: </span><span class="nx">lastName</span><span class="p">()</span> <span class="o">+</span> <span class="s">&quot; &quot;</span> <span class="o">+</span> <span class="nv">pebbles: </span><span class="nx">sex</span><span class="p">())</span>
    <span class="nx">println</span><span class="p">(</span><span class="nv">junior: </span><span class="nx">hair</span><span class="p">()</span> <span class="o">+</span> <span class="s">&quot; &quot;</span> <span class="o">+</span> <span class="nv">junior: </span><span class="nx">lastName</span><span class="p">()</span> <span class="o">+</span> <span class="s">&quot; &quot;</span> <span class="o">+</span> <span class="nv">junior: </span><span class="nx">sex</span><span class="p">())</span>

    <span class="nv">pebbles: </span><span class="nx">fishing</span><span class="p">()</span>
    <span class="nv">pebbles: </span><span class="nx">drawing</span><span class="p">()</span>
    <span class="nv">junior: </span><span class="nx">fishing</span><span class="p">()</span>
    <span class="nv">junior: </span><span class="nx">drawing</span><span class="p">()</span> 

<span class="p">}</span>
</code></pre></div>


<p>Et nous obtiendrons :</p>

<pre><code>red Flintstone female
brown Flintstone male
Pebbles is fishing
Pebbles is drawing
Junior is fishing
Junior is drawing
</code></pre>

<p>Donc, Peebles et Junior ont bien hérités de caractéristiques en provenance à la fois des mâles et des femelles <code>FlintStone</code> (dessiner et pêcher), ainsi que de caractéristiques spécifiques à leur sexe (couleur de cheveux).</p>

<h2>Les enfants grandissent : l'apprentissage</h2>

<p>Il n'y a pas que l'héritage pour obtenir des compétences, il y a aussi l'apprentissage. Tout ça pour dire que l'on peut faire aussi du <strong>mixin</strong> à la volée. Réinitialisons une <code>peebles</code> et un <code>junior</code>, et créons un DynamicObject <code>teacher</code> qui va pouvoir transférer ses connaissances en maths :</p>

<div class="highlight"><pre><code class="coffeescript"><span class="nx">function</span> <span class="nv">main = </span><span class="o">|</span><span class="nx">args</span><span class="o">|</span> <span class="p">{</span>

    <span class="c1">#bébés éprouvettes</span>
    <span class="nx">var</span> <span class="nv">pebbles = </span><span class="nx">BabyGirl</span><span class="p">()</span><span class="o">:</span> <span class="nx">initialize</span><span class="p">(</span><span class="s">&quot;Pebbles&quot;</span><span class="p">)</span>
    <span class="nx">var</span> <span class="nv">junior = </span><span class="nx">BabyBoy</span><span class="p">()</span><span class="o">:</span> <span class="nx">initialize</span><span class="p">(</span><span class="s">&quot;Junior&quot;</span><span class="p">)</span>

    <span class="c1">#C&#39;est un prof de math</span>
    <span class="nx">var</span> <span class="nv">teacher = </span><span class="nf">-&gt;</span> <span class="nx">DynamicObject</span><span class="p">()</span><span class="o">:</span>
        <span class="nx">knowledge</span><span class="p">(</span><span class="s">&quot;mathematics&quot;</span><span class="p">)</span><span class="o">:</span>
        <span class="nx">define</span><span class="p">(</span><span class="s">&quot;teaching&quot;</span><span class="p">,</span> <span class="o">|</span><span class="k">this</span><span class="p">,</span> <span class="nx">somebody</span><span class="o">|</span> <span class="p">{</span>
            <span class="nx">somebody</span><span class="o">:</span><span class="nx">mixin</span><span class="p">(</span><span class="k">this</span><span class="p">)</span>
        <span class="p">})</span>

    <span class="c1">#teatcher enseigne à pebbles</span>
    <span class="nx">teacher</span><span class="p">()</span><span class="o">:</span> <span class="nx">teaching</span><span class="p">(</span><span class="nx">pebbles</span><span class="p">)</span>    

    <span class="nx">println</span><span class="p">(</span><span class="s">&quot;Pebbles loves &quot;</span> <span class="o">+</span> <span class="nv">pebbles: </span><span class="nx">knowledge</span><span class="p">())</span>

    <span class="c1">#qui du coup va pouvoir elle même transférer son savoir à son frère</span>
    <span class="nv">pebbles: </span><span class="nx">teaching</span><span class="p">(</span><span class="nx">junior</span><span class="p">)</span>

    <span class="c1">#qui lui même ...</span>
    <span class="nx">println</span><span class="p">(</span><span class="s">&quot;Junior loves &quot;</span> <span class="o">+</span> <span class="nv">junior: </span><span class="nx">knowledge</span><span class="p">())</span>

<span class="p">}</span>
</code></pre></div>


<p>Vous obtiendrez :</p>

<pre><code>Pebbles loves mathematics
Junior loves mathematics
</code></pre>

<p>Donc nous venons de voir qu'il est possible de transférer facilement de DynamicObject en DynamicObject les membres de ceux-ci.</p>

<p><strong>Conclusion</strong> : les mixins sont très puissants et permettent une approche fonctionnelle de l'héritage, et finalement le terme "héritage" seul n'est plus approprié. Si j'osais, je dirais <em>"une approche fonctionnelle de la vie"</em> ;)</p>

<p><em>42.</em></p>

        <g:plusone size="medium"></g:plusone>
        <a href="https://twitter.com/share" class="twitter-share-button" data-count="horizontal" data-via="k33g_org">Tweet</a><script type="text/javascript" src="//platform.twitter.com/widgets.js"></script>
    </div>
    <div class="whoring">
        <hr>
        <div id="disqus_thread"></div>
            <script type="text/javascript">
                /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
                var disqus_shortname = 'k33gblog'; // required: replace example with your forum shortname

                var disqus_identifier = 'papa maman font gologolo';

                // The following are highly recommended additional parameters. Remove the slashes in front to use.
                // var disqus_identifier = 'unique_dynamic_id_1234';
                // var disqus_url = 'http://example.com/permalink-to-page.html';

                /* * * DON'T EDIT BELOW THIS LINE * * */
                (function() {
                    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
                    dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
                    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
                })();
            </script>
            <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
            <a href="http://disqus.com" class="dsq-brlink">blog comments powered by <span class="logo-disqus">Disqus</span></a>

    </div>


    <div id="related">
        <h2>Related Posts</h2>
            <ul class="posts">
            
              <li><span>10 Dec 2013</span> &raquo; <a href="/2013/12/10/POLYMER-2.html">Polymer 1er contact le retour</a></li>
            
              <li><span>07 Dec 2013</span> &raquo; <a href="/2013/12/07/POLYMER-1.html">Polymer 1er contact</a></li>
            
              <li><span>29 Nov 2013</span> &raquo; <a href="/2013/11/29/BBOM.html">Le modèle objet de Backbone</a></li>
            
        </ul>
    </div>
</div>
    </div>

    <div class="row">
        <h3>A voir : Les GROS tutos Play!> 1 & 2 !, Backbone</h3>
        <ul>
            <li>
                <a href="http://3monkeys.github.com/play.rules/livre.play.deux.web/play2.rules.return.html">
                    Play!► 2 en douceur •
                </a>
                <a href="http://3monkeys.github.com/play.rules/livre.play.un.web/play.rules.one.html">
                    Apprendre Play!► 1 •
                </a>
                <a href="http://3monkeys.github.com/play.rules/">
                    Versions epub & pdf
                </a>
            </li>
            <li>
                <a href="http://k33g.github.io/backbone.en.douceur/">
                    Backbone.js "en douceur" •
                </a>
                <a href="http://k33g.github.io/backbone.en.douceur/backbone.en.douceur.20121220.pdf"><b>LE</b> pdf</a>
            </li>
            <li>
                A venir : Golo "dans tous les sens" ♥
            </li>
        </ul>
    </div>
    <hr>

</div>



<!-- Google Analytics -->
<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-11383603-5']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>
<!-- Google Analytics end -->

</body>
</html>